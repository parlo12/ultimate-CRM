$((function(){var e=document.querySelector(".register-multi-steps-wizard"),t=$(".auth-register-form"),r=$(".select2"),i=$(".pricing-data"),s=$(".btn-submit"),o=$(".btn-processing");if(o.hide(),i.delegate(".planPrice","click",(function(e){e.stopPropagation(),"0.00"===$(this).data("value")?$(".hide-for-free").hide():$(".hide-for-free").show()})),t.length&&t.validate({rules:{email:{required:!0,email:!0},password:{required:!0},timezone:{required:!0},locale:{required:!0}}}),void 0!==typeof e&&null!==e){let t=new Stepper(e);$(e).find("form").each((function(){$(this).validate({rules:{first_name:{required:!0},email:{required:!0,email:!0},password:{required:!0,minlength:8},password_confirmation:{required:!0,minlength:8,equalTo:"#password"},timezone:{required:!0},locale:{required:!0},phone:{required:!0,digits:!0,minlength:9,maxlength:17},address:{required:!0},city:{required:!0}}})})),$(e).find(".btn-next").each((function(){$(this).on("click",(function(e){$(this).parent().siblings("form").valid()?t.next():e.preventDefault()}))})),$(e).find(".btn-prev").on("click",(function(){t.previous()})),$(e).find(".btn-submit").on("click",(function(){if($(this).parent().siblings("form").valid()){s.hide(),o.show();let t=$(e).find("form").serialize(),r=$('meta[name="csrf-token"]').attr("content");$.ajax({type:"POST",url:"/register",data:t,headers:{"X-CSRF-TOKEN":r},success:function(e){s.show(),o.hide(),"error"!==e.status?(toastr.success(e.message,e.status,{closeButton:!0,positionClass:"toast-top-right",progressBar:!0,newestOnTop:!0}),e.redirect&&setTimeout((function(){window.location.href=e.redirect}),2e3),$("#result-container").html(response.html)):toastr.error(e.message,e.status,{closeButton:!0,positionClass:"toast-top-right",progressBar:!0,newestOnTop:!0})},error:function(e){s.show(),o.hide(),toastr.error(e.responseJSON.message,"Error",{closeButton:!0,positionClass:"toast-top-right",progressBar:!0,newestOnTop:!0})}})}}))}r.each((function(){var e=$(this);e.wrap('<div class="position-relative"></div>'),e.select2({dropdownAutoWidth:!0,width:"100%",dropdownParent:e.parent()})}))}));
